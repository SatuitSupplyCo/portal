{
  "id": "04400f5e-0bbd-4814-b69c-e23f640a7cfd",
  "prevId": "6ea57ca5-6f8b-4fc4-803c-32253f4f9d12",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.accounts": {
      "name": "accounts",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider_account_id": {
          "name": "provider_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "token_type": {
          "name": "token_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "id_token": {
          "name": "id_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_state": {
          "name": "session_state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "accounts_user_id_idx": {
          "name": "accounts_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "accounts_user_id_users_id_fk": {
          "name": "accounts_user_id_users_id_fk",
          "tableFrom": "accounts",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "accounts_provider_provider_account_id_pk": {
          "name": "accounts_provider_provider_account_id_pk",
          "columns": [
            "provider",
            "provider_account_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sessions": {
      "name": "sessions",
      "schema": "",
      "columns": {
        "session_token": {
          "name": "session_token",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires": {
          "name": "expires",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "sessions_user_id_idx": {
          "name": "sessions_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sessions_user_id_users_id_fk": {
          "name": "sessions_user_id_users_id_fk",
          "tableFrom": "sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email_verified": {
          "name": "email_verified",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "portal_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'internal_viewer'"
        },
        "product_role": {
          "name": "product_role",
          "type": "product_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "users_email_idx": {
          "name": "users_email_idx",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_org_id_idx": {
          "name": "users_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.verification_tokens": {
      "name": "verification_tokens",
      "schema": "",
      "columns": {
        "identifier": {
          "name": "identifier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires": {
          "name": "expires",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "verification_tokens_identifier_token_pk": {
          "name": "verification_tokens_identifier_token_pk",
          "columns": [
            "identifier",
            "token"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.invitations": {
      "name": "invitations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "portal_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "org_role": {
          "name": "org_role",
          "type": "org_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "invitation_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "invited_by": {
          "name": "invited_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "invitations_email_idx": {
          "name": "invitations_email_idx",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "invitations_token_idx": {
          "name": "invitations_token_idx",
          "columns": [
            {
              "expression": "token",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "invitations_org_id_idx": {
          "name": "invitations_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "invitations_org_id_organizations_id_fk": {
          "name": "invitations_org_id_organizations_id_fk",
          "tableFrom": "invitations",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "invitations_invited_by_users_id_fk": {
          "name": "invitations_invited_by_users_id_fk",
          "tableFrom": "invitations",
          "tableTo": "users",
          "columnsFrom": [
            "invited_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "invitations_token_unique": {
          "name": "invitations_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.org_memberships": {
      "name": "org_memberships",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "org_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'member'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "org_memberships_user_id_idx": {
          "name": "org_memberships_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "org_memberships_org_id_organizations_id_fk": {
          "name": "org_memberships_org_id_organizations_id_fk",
          "tableFrom": "org_memberships",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "org_memberships_user_id_users_id_fk": {
          "name": "org_memberships_user_id_users_id_fk",
          "tableFrom": "org_memberships",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "org_memberships_org_user_unq": {
          "name": "org_memberships_org_user_unq",
          "nullsNotDistinct": false,
          "columns": [
            "org_id",
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.organizations": {
      "name": "organizations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "org_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "org_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "organizations_type_idx": {
          "name": "organizations_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "organizations_status_idx": {
          "name": "organizations_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "organizations_slug_unique": {
          "name": "organizations_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.document_blocks": {
      "name": "document_blocks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "block_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "content_json": {
          "name": "content_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "visible_to_internal": {
          "name": "visible_to_internal",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "visible_to_partners": {
          "name": "visible_to_partners",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "visible_to_vendors": {
          "name": "visible_to_vendors",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "locked": {
          "name": "locked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "document_blocks_document_sort_idx": {
          "name": "document_blocks_document_sort_idx",
          "columns": [
            {
              "expression": "document_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "sort_order",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "document_blocks_document_id_documents_id_fk": {
          "name": "document_blocks_document_id_documents_id_fk",
          "tableFrom": "document_blocks",
          "tableTo": "documents",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.documents": {
      "name": "documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "section": {
          "name": "section",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "document_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "visible_to_internal": {
          "name": "visible_to_internal",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "visible_to_partners": {
          "name": "visible_to_partners",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "visible_to_vendors": {
          "name": "visible_to_vendors",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "owner_team": {
          "name": "owner_team",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "documents_section_status_idx": {
          "name": "documents_section_status_idx",
          "columns": [
            {
              "expression": "section",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "documents_status_idx": {
          "name": "documents_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "documents_created_by_users_id_fk": {
          "name": "documents_created_by_users_id_fk",
          "tableFrom": "documents",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "documents_slug_unique": {
          "name": "documents_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.canon_documents": {
      "name": "canon_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "canon_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "body_json": {
          "name": "body_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "canon_documents_slug_status_idx": {
          "name": "canon_documents_slug_status_idx",
          "columns": [
            {
              "expression": "slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "canon_documents_created_by_users_id_fk": {
          "name": "canon_documents_created_by_users_id_fk",
          "tableFrom": "canon_documents",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "canon_documents_slug_version_unq": {
          "name": "canon_documents_slug_version_unq",
          "nullsNotDistinct": false,
          "columns": [
            "slug",
            "version"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.asset_versions": {
      "name": "asset_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "asset_id": {
          "name": "asset_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mime": {
          "name": "mime",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "size": {
          "name": "size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "checksum": {
          "name": "checksum",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "asset_version_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "asset_versions_asset_status_idx": {
          "name": "asset_versions_asset_status_idx",
          "columns": [
            {
              "expression": "asset_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "asset_versions_asset_id_assets_id_fk": {
          "name": "asset_versions_asset_id_assets_id_fk",
          "tableFrom": "asset_versions",
          "tableTo": "assets",
          "columnsFrom": [
            "asset_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "asset_versions_uploaded_by_users_id_fk": {
          "name": "asset_versions_uploaded_by_users_id_fk",
          "tableFrom": "asset_versions",
          "tableTo": "users",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.assets": {
      "name": "assets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "assets_type_idx": {
          "name": "assets_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "assets_created_by_users_id_fk": {
          "name": "assets_created_by_users_id_fk",
          "tableFrom": "assets",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.pack_items": {
      "name": "pack_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "pack_id": {
          "name": "pack_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "item_type": {
          "name": "item_type",
          "type": "pack_item_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "asset_version_id": {
          "name": "asset_version_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "test_id": {
          "name": "test_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "child_pack_id": {
          "name": "child_pack_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "link_url": {
          "name": "link_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "pack_items_pack_sort_idx": {
          "name": "pack_items_pack_sort_idx",
          "columns": [
            {
              "expression": "pack_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "sort_order",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "pack_items_pack_id_packs_id_fk": {
          "name": "pack_items_pack_id_packs_id_fk",
          "tableFrom": "pack_items",
          "tableTo": "packs",
          "columnsFrom": [
            "pack_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "pack_items_child_pack_id_packs_id_fk": {
          "name": "pack_items_child_pack_id_packs_id_fk",
          "tableFrom": "pack_items",
          "tableTo": "packs",
          "columnsFrom": [
            "child_pack_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.packs": {
      "name": "packs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "kind": {
          "name": "kind",
          "type": "pack_kind",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "document_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "visible_to_internal": {
          "name": "visible_to_internal",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "visible_to_partners": {
          "name": "visible_to_partners",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "visible_to_vendors": {
          "name": "visible_to_vendors",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "version": {
          "name": "version",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "execution_status": {
          "name": "execution_status",
          "type": "execution_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "target_type": {
          "name": "target_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_slug": {
          "name": "target_slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vendor_org_id": {
          "name": "vendor_org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "packs_kind_status_idx": {
          "name": "packs_kind_status_idx",
          "columns": [
            {
              "expression": "kind",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "packs_vendor_org_id_idx": {
          "name": "packs_vendor_org_id_idx",
          "columns": [
            {
              "expression": "vendor_org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "packs_target_idx": {
          "name": "packs_target_idx",
          "columns": [
            {
              "expression": "target_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "target_slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "packs_vendor_org_id_organizations_id_fk": {
          "name": "packs_vendor_org_id_organizations_id_fk",
          "tableFrom": "packs",
          "tableTo": "organizations",
          "columnsFrom": [
            "vendor_org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "packs_created_by_users_id_fk": {
          "name": "packs_created_by_users_id_fk",
          "tableFrom": "packs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "packs_slug_unique": {
          "name": "packs_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.test_attachments": {
      "name": "test_attachments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "test_id": {
          "name": "test_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "caption": {
          "name": "caption",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "test_attachments_test_id_idx": {
          "name": "test_attachments_test_id_idx",
          "columns": [
            {
              "expression": "test_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "test_attachments_test_id_tests_id_fk": {
          "name": "test_attachments_test_id_tests_id_fk",
          "tableFrom": "test_attachments",
          "tableTo": "tests",
          "columnsFrom": [
            "test_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.test_links": {
      "name": "test_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "test_id": {
          "name": "test_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "pack_id": {
          "name": "pack_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "asset_version_id": {
          "name": "asset_version_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "test_links_test_id_idx": {
          "name": "test_links_test_id_idx",
          "columns": [
            {
              "expression": "test_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "test_links_pack_id_idx": {
          "name": "test_links_pack_id_idx",
          "columns": [
            {
              "expression": "pack_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "test_links_test_id_tests_id_fk": {
          "name": "test_links_test_id_tests_id_fk",
          "tableFrom": "test_links",
          "tableTo": "tests",
          "columnsFrom": [
            "test_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "test_links_pack_id_packs_id_fk": {
          "name": "test_links_pack_id_packs_id_fk",
          "tableFrom": "test_links",
          "tableTo": "packs",
          "columnsFrom": [
            "pack_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "test_links_asset_version_id_asset_versions_id_fk": {
          "name": "test_links_asset_version_id_asset_versions_id_fk",
          "tableFrom": "test_links",
          "tableTo": "asset_versions",
          "columnsFrom": [
            "asset_version_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "test_links_document_id_documents_id_fk": {
          "name": "test_links_document_id_documents_id_fk",
          "tableFrom": "test_links",
          "tableTo": "documents",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tests": {
      "name": "tests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "vendor_org_id": {
          "name": "vendor_org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "document_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "result": {
          "name": "result",
          "type": "test_result",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "tests_category_idx": {
          "name": "tests_category_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tests_vendor_org_id_idx": {
          "name": "tests_vendor_org_id_idx",
          "columns": [
            {
              "expression": "vendor_org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tests_status_idx": {
          "name": "tests_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tests_vendor_org_id_organizations_id_fk": {
          "name": "tests_vendor_org_id_organizations_id_fk",
          "tableFrom": "tests",
          "tableTo": "organizations",
          "columnsFrom": [
            "vendor_org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tests_created_by_users_id_fk": {
          "name": "tests_created_by_users_id_fk",
          "tableFrom": "tests",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.factories": {
      "name": "factories",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "legal_name": {
          "name": "legal_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trading_name": {
          "name": "trading_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "region": {
          "name": "region",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "primary_contact_name": {
          "name": "primary_contact_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "primary_contact_email": {
          "name": "primary_contact_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "whatsapp": {
          "name": "whatsapp",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "website": {
          "name": "website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "factory_type": {
          "name": "factory_type",
          "type": "factory_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "vertical_integration": {
          "name": "vertical_integration",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "capacity_units_per_month": {
          "name": "capacity_units_per_month",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "min_order_quantity": {
          "name": "min_order_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "avg_lead_time_days": {
          "name": "avg_lead_time_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sample_lead_time_days": {
          "name": "sample_lead_time_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "payment_terms": {
          "name": "payment_terms",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "sustainability_certifications": {
          "name": "sustainability_certifications",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "compliance_certifications": {
          "name": "compliance_certifications",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "factory_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'prospect'"
        },
        "strategic_score": {
          "name": "strategic_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "last_reviewed_at": {
          "name": "last_reviewed_at",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "internal_owner": {
          "name": "internal_owner",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "factories_status_idx": {
          "name": "factories_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "factories_country_idx": {
          "name": "factories_country_idx",
          "columns": [
            {
              "expression": "country",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "factories_type_idx": {
          "name": "factories_type_idx",
          "columns": [
            {
              "expression": "factory_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "factories_score_idx": {
          "name": "factories_score_idx",
          "columns": [
            {
              "expression": "strategic_score",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "factories_created_by_users_id_fk": {
          "name": "factories_created_by_users_id_fk",
          "tableFrom": "factories",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.factory_attachments": {
      "name": "factory_attachments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "factory_id": {
          "name": "factory_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_type": {
          "name": "file_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "caption": {
          "name": "caption",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "factory_attachments_factory_idx": {
          "name": "factory_attachments_factory_idx",
          "columns": [
            {
              "expression": "factory_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "factory_attachments_type_idx": {
          "name": "factory_attachments_type_idx",
          "columns": [
            {
              "expression": "file_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "factory_attachments_factory_id_factories_id_fk": {
          "name": "factory_attachments_factory_id_factories_id_fk",
          "tableFrom": "factory_attachments",
          "tableTo": "factories",
          "columnsFrom": [
            "factory_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "factory_attachments_uploaded_by_users_id_fk": {
          "name": "factory_attachments_uploaded_by_users_id_fk",
          "tableFrom": "factory_attachments",
          "tableTo": "users",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.factory_capabilities": {
      "name": "factory_capabilities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "factory_id": {
          "name": "factory_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "factory_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "specialty": {
          "name": "specialty",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "in_house_patterning": {
          "name": "in_house_patterning",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "in_house_dyeing": {
          "name": "in_house_dyeing",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "in_house_knitting": {
          "name": "in_house_knitting",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "technical_complexity_rating": {
          "name": "technical_complexity_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "premium_finishing_rating": {
          "name": "premium_finishing_rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "factory_capabilities_factory_idx": {
          "name": "factory_capabilities_factory_idx",
          "columns": [
            {
              "expression": "factory_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "factory_capabilities_category_idx": {
          "name": "factory_capabilities_category_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "factory_capabilities_factory_id_factories_id_fk": {
          "name": "factory_capabilities_factory_id_factories_id_fk",
          "tableFrom": "factory_capabilities",
          "tableTo": "factories",
          "columnsFrom": [
            "factory_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.factory_costing": {
      "name": "factory_costing",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "factory_id": {
          "name": "factory_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "factory_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "target_fob_range_low": {
          "name": "target_fob_range_low",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "target_fob_range_high": {
          "name": "target_fob_range_high",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "fabric_markup_percent": {
          "name": "fabric_markup_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "trim_markup_percent": {
          "name": "trim_markup_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "freight_assumption": {
          "name": "freight_assumption",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "duties_estimate_percent": {
          "name": "duties_estimate_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "landed_cost_multiplier": {
          "name": "landed_cost_multiplier",
          "type": "numeric(5, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "margin_viability_score": {
          "name": "margin_viability_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sku_concept_id": {
          "name": "sku_concept_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "season": {
          "name": "season",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "factory_costing_factory_idx": {
          "name": "factory_costing_factory_idx",
          "columns": [
            {
              "expression": "factory_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "factory_costing_category_idx": {
          "name": "factory_costing_category_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "factory_costing_factory_id_factories_id_fk": {
          "name": "factory_costing_factory_id_factories_id_fk",
          "tableFrom": "factory_costing",
          "tableTo": "factories",
          "columnsFrom": [
            "factory_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.factory_negotiations": {
      "name": "factory_negotiations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "factory_id": {
          "name": "factory_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "season": {
          "name": "season",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "factory_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "our_ask": {
          "name": "our_ask",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "their_response": {
          "name": "their_response",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "outcome": {
          "name": "outcome",
          "type": "negotiation_outcome",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "final_terms": {
          "name": "final_terms",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "previous_price": {
          "name": "previous_price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "negotiated_price": {
          "name": "negotiated_price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "price_change_percent": {
          "name": "price_change_percent",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "lessons_learned": {
          "name": "lessons_learned",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "negotiated_by": {
          "name": "negotiated_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "negotiated_at": {
          "name": "negotiated_at",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "factory_negotiations_factory_idx": {
          "name": "factory_negotiations_factory_idx",
          "columns": [
            {
              "expression": "factory_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "factory_negotiations_season_idx": {
          "name": "factory_negotiations_season_idx",
          "columns": [
            {
              "expression": "season",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "factory_negotiations_factory_id_factories_id_fk": {
          "name": "factory_negotiations_factory_id_factories_id_fk",
          "tableFrom": "factory_negotiations",
          "tableTo": "factories",
          "columnsFrom": [
            "factory_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "factory_negotiations_negotiated_by_users_id_fk": {
          "name": "factory_negotiations_negotiated_by_users_id_fk",
          "tableFrom": "factory_negotiations",
          "tableTo": "users",
          "columnsFrom": [
            "negotiated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.factory_production_runs": {
      "name": "factory_production_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "factory_id": {
          "name": "factory_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sku_id": {
          "name": "sku_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "po_number": {
          "name": "po_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "season": {
          "name": "season",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "quantity": {
          "name": "quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "production_run_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pre_production'"
        },
        "planned_start_date": {
          "name": "planned_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "actual_start_date": {
          "name": "actual_start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "planned_ship_date": {
          "name": "planned_ship_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "actual_ship_date": {
          "name": "actual_ship_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_date": {
          "name": "delivered_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "qc_pass_rate": {
          "name": "qc_pass_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "defect_rate": {
          "name": "defect_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "on_time_delivery": {
          "name": "on_time_delivery",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "lead_time_deviation_days": {
          "name": "lead_time_deviation_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "chargeback_amount": {
          "name": "chargeback_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "chargeback_reason": {
          "name": "chargeback_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "factory_prod_runs_factory_idx": {
          "name": "factory_prod_runs_factory_idx",
          "columns": [
            {
              "expression": "factory_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "factory_prod_runs_status_idx": {
          "name": "factory_prod_runs_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "factory_prod_runs_season_idx": {
          "name": "factory_prod_runs_season_idx",
          "columns": [
            {
              "expression": "season",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "factory_production_runs_factory_id_factories_id_fk": {
          "name": "factory_production_runs_factory_id_factories_id_fk",
          "tableFrom": "factory_production_runs",
          "tableTo": "factories",
          "columnsFrom": [
            "factory_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "factory_production_runs_created_by_users_id_fk": {
          "name": "factory_production_runs_created_by_users_id_fk",
          "tableFrom": "factory_production_runs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.factory_relationship": {
      "name": "factory_relationship",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "factory_id": {
          "name": "factory_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "brand_alignment_score": {
          "name": "brand_alignment_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "responsiveness_score": {
          "name": "responsiveness_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "transparency_score": {
          "name": "transparency_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "innovation_score": {
          "name": "innovation_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "negotiation_flexibility": {
          "name": "negotiation_flexibility",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "long_term_partner_potential": {
          "name": "long_term_partner_potential",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "internal_owner": {
          "name": "internal_owner",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "relationship_stage": {
          "name": "relationship_stage",
          "type": "relationship_stage",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'intro'"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "factory_relationship_factory_idx": {
          "name": "factory_relationship_factory_idx",
          "columns": [
            {
              "expression": "factory_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "factory_relationship_stage_idx": {
          "name": "factory_relationship_stage_idx",
          "columns": [
            {
              "expression": "relationship_stage",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "factory_relationship_factory_id_factories_id_fk": {
          "name": "factory_relationship_factory_id_factories_id_fk",
          "tableFrom": "factory_relationship",
          "tableTo": "factories",
          "columnsFrom": [
            "factory_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "factory_relationship_factory_id_unique": {
          "name": "factory_relationship_factory_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "factory_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.factory_risk": {
      "name": "factory_risk",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "factory_id": {
          "name": "factory_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "geopolitical_risk": {
          "name": "geopolitical_risk",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "financial_stability": {
          "name": "financial_stability",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "labor_risk": {
          "name": "labor_risk",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "supply_chain_depth": {
          "name": "supply_chain_depth",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "redundancy_score": {
          "name": "redundancy_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "risk_notes": {
          "name": "risk_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "factory_risk_factory_idx": {
          "name": "factory_risk_factory_idx",
          "columns": [
            {
              "expression": "factory_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "factory_risk_factory_id_factories_id_fk": {
          "name": "factory_risk_factory_id_factories_id_fk",
          "tableFrom": "factory_risk",
          "tableTo": "factories",
          "columnsFrom": [
            "factory_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "factory_risk_factory_id_unique": {
          "name": "factory_risk_factory_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "factory_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.factory_samples": {
      "name": "factory_samples",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "factory_id": {
          "name": "factory_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sku_id": {
          "name": "sku_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sku_concept_id": {
          "name": "sku_concept_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "tech_pack_id": {
          "name": "tech_pack_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "sample_type": {
          "name": "sample_type",
          "type": "sample_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "requested_at": {
          "name": "requested_at",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "shipped_at": {
          "name": "shipped_at",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "received_at": {
          "name": "received_at",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "quality_score": {
          "name": "quality_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "fit_score": {
          "name": "fit_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "construction_score": {
          "name": "construction_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "accuracy_score": {
          "name": "accuracy_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "communication_score": {
          "name": "communication_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "revision_count": {
          "name": "revision_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "final_decision": {
          "name": "final_decision",
          "type": "sample_decision",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "factory_samples_factory_idx": {
          "name": "factory_samples_factory_idx",
          "columns": [
            {
              "expression": "factory_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "factory_samples_type_idx": {
          "name": "factory_samples_type_idx",
          "columns": [
            {
              "expression": "sample_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "factory_samples_decision_idx": {
          "name": "factory_samples_decision_idx",
          "columns": [
            {
              "expression": "final_decision",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "factory_samples_factory_id_factories_id_fk": {
          "name": "factory_samples_factory_id_factories_id_fk",
          "tableFrom": "factory_samples",
          "tableTo": "factories",
          "columnsFrom": [
            "factory_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "factory_samples_created_by_users_id_fk": {
          "name": "factory_samples_created_by_users_id_fk",
          "tableFrom": "factory_samples",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sku_factory_assignments": {
      "name": "sku_factory_assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "sku_id": {
          "name": "sku_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sku_concept_id": {
          "name": "sku_concept_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "primary_factory_id": {
          "name": "primary_factory_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "backup_factory_id": {
          "name": "backup_factory_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "sku_factory_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'proposed'"
        },
        "margin_target_met": {
          "name": "margin_target_met",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "approved_for_production": {
          "name": "approved_for_production",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "season": {
          "name": "season",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "sku_factory_sku_idx": {
          "name": "sku_factory_sku_idx",
          "columns": [
            {
              "expression": "sku_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sku_factory_primary_idx": {
          "name": "sku_factory_primary_idx",
          "columns": [
            {
              "expression": "primary_factory_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sku_factory_status_idx": {
          "name": "sku_factory_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sku_factory_assignments_primary_factory_id_factories_id_fk": {
          "name": "sku_factory_assignments_primary_factory_id_factories_id_fk",
          "tableFrom": "sku_factory_assignments",
          "tableTo": "factories",
          "columnsFrom": [
            "primary_factory_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sku_factory_assignments_backup_factory_id_factories_id_fk": {
          "name": "sku_factory_assignments_backup_factory_id_factories_id_fk",
          "tableFrom": "sku_factory_assignments",
          "tableTo": "factories",
          "columnsFrom": [
            "backup_factory_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sku_factory_assignments_created_by_users_id_fk": {
          "name": "sku_factory_assignments_created_by_users_id_fk",
          "tableFrom": "sku_factory_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.studio_entries": {
      "name": "studio_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "studio_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "studio_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'raw'"
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "collection": {
          "name": "collection",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "season": {
          "name": "season",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "collection_tag": {
          "name": "collection_tag",
          "type": "collection_tag",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "inspiration_source": {
          "name": "inspiration_source",
          "type": "studio_inspiration_source",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "source_url": {
          "name": "source_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_complexity": {
          "name": "estimated_complexity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "strategic_relevance_score": {
          "name": "strategic_relevance_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "intent": {
          "name": "intent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "problem_statement": {
          "name": "problem_statement",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "price_tier_target": {
          "name": "price_tier_target",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "margin_target": {
          "name": "margin_target",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "replacement_vs_additive": {
          "name": "replacement_vs_additive",
          "type": "replacement_additive",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "target_season_id": {
          "name": "target_season_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "category_metadata": {
          "name": "category_metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "archive_reason": {
          "name": "archive_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "review_submitted_at": {
          "name": "review_submitted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "promoted_at": {
          "name": "promoted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "promoted_by": {
          "name": "promoted_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner": {
          "name": "owner",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "studio_entries_category_idx": {
          "name": "studio_entries_category_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "studio_entries_status_idx": {
          "name": "studio_entries_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "studio_entries_owner_idx": {
          "name": "studio_entries_owner_idx",
          "columns": [
            {
              "expression": "owner",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "studio_entries_season_idx": {
          "name": "studio_entries_season_idx",
          "columns": [
            {
              "expression": "season",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "studio_entries_collection_idx": {
          "name": "studio_entries_collection_idx",
          "columns": [
            {
              "expression": "collection",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "studio_entries_relevance_idx": {
          "name": "studio_entries_relevance_idx",
          "columns": [
            {
              "expression": "strategic_relevance_score",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "studio_entries_created_idx": {
          "name": "studio_entries_created_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "studio_entries_promoted_by_users_id_fk": {
          "name": "studio_entries_promoted_by_users_id_fk",
          "tableFrom": "studio_entries",
          "tableTo": "users",
          "columnsFrom": [
            "promoted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "studio_entries_created_by_users_id_fk": {
          "name": "studio_entries_created_by_users_id_fk",
          "tableFrom": "studio_entries",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.studio_entry_attachments": {
      "name": "studio_entry_attachments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "entry_id": {
          "name": "entry_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mime": {
          "name": "mime",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "caption": {
          "name": "caption",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "studio_entry_attachments_entry_idx": {
          "name": "studio_entry_attachments_entry_idx",
          "columns": [
            {
              "expression": "entry_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "studio_entry_attachments_entry_id_studio_entries_id_fk": {
          "name": "studio_entry_attachments_entry_id_studio_entries_id_fk",
          "tableFrom": "studio_entry_attachments",
          "tableTo": "studio_entries",
          "columnsFrom": [
            "entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "studio_entry_attachments_uploaded_by_users_id_fk": {
          "name": "studio_entry_attachments_uploaded_by_users_id_fk",
          "tableFrom": "studio_entry_attachments",
          "tableTo": "users",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.studio_entry_images": {
      "name": "studio_entry_images",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "entry_id": {
          "name": "entry_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mime": {
          "name": "mime",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "caption": {
          "name": "caption",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "studio_entry_images_entry_idx": {
          "name": "studio_entry_images_entry_idx",
          "columns": [
            {
              "expression": "entry_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "studio_entry_images_entry_id_studio_entries_id_fk": {
          "name": "studio_entry_images_entry_id_studio_entries_id_fk",
          "tableFrom": "studio_entry_images",
          "tableTo": "studio_entries",
          "columnsFrom": [
            "entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "studio_entry_images_uploaded_by_users_id_fk": {
          "name": "studio_entry_images_uploaded_by_users_id_fk",
          "tableFrom": "studio_entry_images",
          "tableTo": "users",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.studio_entry_links": {
      "name": "studio_entry_links",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "entry_id": {
          "name": "entry_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "link_type": {
          "name": "link_type",
          "type": "studio_link_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "target_id": {
          "name": "target_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_label": {
          "name": "target_label",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "studio_entry_links_entry_idx": {
          "name": "studio_entry_links_entry_idx",
          "columns": [
            {
              "expression": "entry_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "studio_entry_links_type_idx": {
          "name": "studio_entry_links_type_idx",
          "columns": [
            {
              "expression": "link_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "studio_entry_links_target_idx": {
          "name": "studio_entry_links_target_idx",
          "columns": [
            {
              "expression": "target_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "studio_entry_links_entry_id_studio_entries_id_fk": {
          "name": "studio_entry_links_entry_id_studio_entries_id_fk",
          "tableFrom": "studio_entry_links",
          "tableTo": "studio_entries",
          "columnsFrom": [
            "entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "studio_entry_links_created_by_users_id_fk": {
          "name": "studio_entry_links_created_by_users_id_fk",
          "tableFrom": "studio_entry_links",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.core_programs": {
      "name": "core_programs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fabric_spec": {
          "name": "fabric_spec",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "block_id": {
          "name": "block_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "silhouettes": {
          "name": "silhouettes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "base_colorways": {
          "name": "base_colorways",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "core_program_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "core_programs_status_idx": {
          "name": "core_programs_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "core_programs_created_by_users_id_fk": {
          "name": "core_programs_created_by_users_id_fk",
          "tableFrom": "core_programs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.season_colors": {
      "name": "season_colors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "season_id": {
          "name": "season_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "studio_entry_id": {
          "name": "studio_entry_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "season_color_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'proposed'"
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "season_colors_season_idx": {
          "name": "season_colors_season_idx",
          "columns": [
            {
              "expression": "season_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "season_colors_entry_idx": {
          "name": "season_colors_entry_idx",
          "columns": [
            {
              "expression": "studio_entry_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "season_colors_season_id_seasons_id_fk": {
          "name": "season_colors_season_id_seasons_id_fk",
          "tableFrom": "season_colors",
          "tableTo": "seasons",
          "columnsFrom": [
            "season_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "season_colors_studio_entry_id_studio_entries_id_fk": {
          "name": "season_colors_studio_entry_id_studio_entries_id_fk",
          "tableFrom": "season_colors",
          "tableTo": "studio_entries",
          "columnsFrom": [
            "studio_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "season_colors_created_by_users_id_fk": {
          "name": "season_colors_created_by_users_id_fk",
          "tableFrom": "season_colors",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "season_colors_season_entry_unq": {
          "name": "season_colors_season_entry_unq",
          "nullsNotDistinct": false,
          "columns": [
            "season_id",
            "studio_entry_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.season_core_refs": {
      "name": "season_core_refs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "season_id": {
          "name": "season_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "core_program_id": {
          "name": "core_program_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "selected_colorways": {
          "name": "selected_colorways",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "season_core_refs_season_idx": {
          "name": "season_core_refs_season_idx",
          "columns": [
            {
              "expression": "season_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "season_core_refs_program_idx": {
          "name": "season_core_refs_program_idx",
          "columns": [
            {
              "expression": "core_program_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "season_core_refs_season_id_seasons_id_fk": {
          "name": "season_core_refs_season_id_seasons_id_fk",
          "tableFrom": "season_core_refs",
          "tableTo": "seasons",
          "columnsFrom": [
            "season_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "season_core_refs_core_program_id_core_programs_id_fk": {
          "name": "season_core_refs_core_program_id_core_programs_id_fk",
          "tableFrom": "season_core_refs",
          "tableTo": "core_programs",
          "columnsFrom": [
            "core_program_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "season_core_refs_season_program_unq": {
          "name": "season_core_refs_season_program_unq",
          "nullsNotDistinct": false,
          "columns": [
            "season_id",
            "core_program_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.season_slots": {
      "name": "season_slots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "season_id": {
          "name": "season_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "collection": {
          "name": "collection",
          "type": "collection_tag",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "gender": {
          "name": "gender",
          "type": "gender",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'mens'"
        },
        "replacement_flag": {
          "name": "replacement_flag",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "status": {
          "name": "status",
          "type": "season_slot_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "season_slots_season_idx": {
          "name": "season_slots_season_idx",
          "columns": [
            {
              "expression": "season_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "season_slots_status_idx": {
          "name": "season_slots_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "season_slots_collection_idx": {
          "name": "season_slots_collection_idx",
          "columns": [
            {
              "expression": "collection",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "season_slots_season_id_seasons_id_fk": {
          "name": "season_slots_season_id_seasons_id_fk",
          "tableFrom": "season_slots",
          "tableTo": "seasons",
          "columnsFrom": [
            "season_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "season_slots_created_by_users_id_fk": {
          "name": "season_slots_created_by_users_id_fk",
          "tableFrom": "season_slots",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.seasons": {
      "name": "seasons",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "code": {
          "name": "code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "season_type": {
          "name": "season_type",
          "type": "season_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "season_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'planning'"
        },
        "target_sku_count": {
          "name": "target_sku_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "margin_target": {
          "name": "margin_target",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "complexity_budget": {
          "name": "complexity_budget",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "minor_max_skus": {
          "name": "minor_max_skus",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "color_palette": {
          "name": "color_palette",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "mix_targets": {
          "name": "mix_targets",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "seasons_status_idx": {
          "name": "seasons_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "seasons_type_idx": {
          "name": "seasons_type_idx",
          "columns": [
            {
              "expression": "season_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "seasons_created_by_users_id_fk": {
          "name": "seasons_created_by_users_id_fk",
          "tableFrom": "seasons",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "seasons_code_unique": {
          "name": "seasons_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sku_concept_transitions": {
      "name": "sku_concept_transitions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "sku_concept_id": {
          "name": "sku_concept_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "from_status": {
          "name": "from_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "to_status": {
          "name": "to_status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "sku_concept_transitions_concept_idx": {
          "name": "sku_concept_transitions_concept_idx",
          "columns": [
            {
              "expression": "sku_concept_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sku_concept_transitions_actor_idx": {
          "name": "sku_concept_transitions_actor_idx",
          "columns": [
            {
              "expression": "actor_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sku_concept_transitions_created_idx": {
          "name": "sku_concept_transitions_created_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sku_concept_transitions_sku_concept_id_sku_concepts_id_fk": {
          "name": "sku_concept_transitions_sku_concept_id_sku_concepts_id_fk",
          "tableFrom": "sku_concept_transitions",
          "tableTo": "sku_concepts",
          "columnsFrom": [
            "sku_concept_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "sku_concept_transitions_actor_user_id_users_id_fk": {
          "name": "sku_concept_transitions_actor_user_id_users_id_fk",
          "tableFrom": "sku_concept_transitions",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sku_concepts": {
      "name": "sku_concepts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "season_slot_id": {
          "name": "season_slot_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "source_studio_entry_id": {
          "name": "source_studio_entry_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "metadata_snapshot": {
          "name": "metadata_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "sku_concept_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "spec_at": {
          "name": "spec_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "sampling_at": {
          "name": "sampling_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "costing_at": {
          "name": "costing_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "production_at": {
          "name": "production_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "live_at": {
          "name": "live_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "retired_at": {
          "name": "retired_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "sku_concepts_status_idx": {
          "name": "sku_concepts_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sku_concepts_slot_idx": {
          "name": "sku_concepts_slot_idx",
          "columns": [
            {
              "expression": "season_slot_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sku_concepts_source_idx": {
          "name": "sku_concepts_source_idx",
          "columns": [
            {
              "expression": "source_studio_entry_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sku_concepts_season_slot_id_season_slots_id_fk": {
          "name": "sku_concepts_season_slot_id_season_slots_id_fk",
          "tableFrom": "sku_concepts",
          "tableTo": "season_slots",
          "columnsFrom": [
            "season_slot_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sku_concepts_source_studio_entry_id_studio_entries_id_fk": {
          "name": "sku_concepts_source_studio_entry_id_studio_entries_id_fk",
          "tableFrom": "sku_concepts",
          "tableTo": "studio_entries",
          "columnsFrom": [
            "source_studio_entry_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sku_concepts_created_by_users_id_fk": {
          "name": "sku_concepts_created_by_users_id_fk",
          "tableFrom": "sku_concepts",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "sku_concepts_approved_by_users_id_fk": {
          "name": "sku_concepts_approved_by_users_id_fk",
          "tableFrom": "sku_concepts",
          "tableTo": "users",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "sku_concepts_season_slot_id_unique": {
          "name": "sku_concepts_season_slot_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "season_slot_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.assets_acl": {
      "name": "assets_acl",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "asset_id": {
          "name": "asset_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "permission": {
          "name": "permission",
          "type": "acl_permission",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'read'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "assets_acl_asset_id_idx": {
          "name": "assets_acl_asset_id_idx",
          "columns": [
            {
              "expression": "asset_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "assets_acl_user_id_idx": {
          "name": "assets_acl_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "assets_acl_org_id_idx": {
          "name": "assets_acl_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "assets_acl_asset_id_assets_id_fk": {
          "name": "assets_acl_asset_id_assets_id_fk",
          "tableFrom": "assets_acl",
          "tableTo": "assets",
          "columnsFrom": [
            "asset_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "assets_acl_user_id_users_id_fk": {
          "name": "assets_acl_user_id_users_id_fk",
          "tableFrom": "assets_acl",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "assets_acl_org_id_organizations_id_fk": {
          "name": "assets_acl_org_id_organizations_id_fk",
          "tableFrom": "assets_acl",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.documents_acl": {
      "name": "documents_acl",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "permission": {
          "name": "permission",
          "type": "acl_permission",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'read'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "documents_acl_document_id_idx": {
          "name": "documents_acl_document_id_idx",
          "columns": [
            {
              "expression": "document_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "documents_acl_user_id_idx": {
          "name": "documents_acl_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "documents_acl_org_id_idx": {
          "name": "documents_acl_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "documents_acl_document_id_documents_id_fk": {
          "name": "documents_acl_document_id_documents_id_fk",
          "tableFrom": "documents_acl",
          "tableTo": "documents",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "documents_acl_user_id_users_id_fk": {
          "name": "documents_acl_user_id_users_id_fk",
          "tableFrom": "documents_acl",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "documents_acl_org_id_organizations_id_fk": {
          "name": "documents_acl_org_id_organizations_id_fk",
          "tableFrom": "documents_acl",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.packs_acl": {
      "name": "packs_acl",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "pack_id": {
          "name": "pack_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "org_id": {
          "name": "org_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "permission": {
          "name": "permission",
          "type": "acl_permission",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'read'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "packs_acl_pack_id_idx": {
          "name": "packs_acl_pack_id_idx",
          "columns": [
            {
              "expression": "pack_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "packs_acl_user_id_idx": {
          "name": "packs_acl_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "packs_acl_org_id_idx": {
          "name": "packs_acl_org_id_idx",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "packs_acl_pack_id_packs_id_fk": {
          "name": "packs_acl_pack_id_packs_id_fk",
          "tableFrom": "packs_acl",
          "tableTo": "packs",
          "columnsFrom": [
            "pack_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "packs_acl_user_id_users_id_fk": {
          "name": "packs_acl_user_id_users_id_fk",
          "tableFrom": "packs_acl",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "packs_acl_org_id_organizations_id_fk": {
          "name": "packs_acl_org_id_organizations_id_fk",
          "tableFrom": "packs_acl",
          "tableTo": "organizations",
          "columnsFrom": [
            "org_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.publish_log": {
      "name": "publish_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "actor_user_id": {
          "name": "actor_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_type": {
          "name": "resource_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "publish_action",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "metadata_json": {
          "name": "metadata_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "publish_log_resource_idx": {
          "name": "publish_log_resource_idx",
          "columns": [
            {
              "expression": "resource_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "resource_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "publish_log_actor_idx": {
          "name": "publish_log_actor_idx",
          "columns": [
            {
              "expression": "actor_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "publish_log_created_at_idx": {
          "name": "publish_log_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "publish_log_actor_user_id_users_id_fk": {
          "name": "publish_log_actor_user_id_users_id_fk",
          "tableFrom": "publish_log",
          "tableTo": "users",
          "columnsFrom": [
            "actor_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.acl_permission": {
      "name": "acl_permission",
      "schema": "public",
      "values": [
        "read",
        "write",
        "admin"
      ]
    },
    "public.asset_version_status": {
      "name": "asset_version_status",
      "schema": "public",
      "values": [
        "draft",
        "approved",
        "deprecated"
      ]
    },
    "public.block_type": {
      "name": "block_type",
      "schema": "public",
      "values": [
        "text",
        "heading",
        "rule",
        "table",
        "image",
        "asset_ref",
        "test_ref",
        "techpack_ref",
        "pack_ref",
        "canon_ref",
        "callout"
      ]
    },
    "public.canon_status": {
      "name": "canon_status",
      "schema": "public",
      "values": [
        "active",
        "deprecated"
      ]
    },
    "public.collection_tag": {
      "name": "collection_tag",
      "schema": "public",
      "values": [
        "core",
        "material",
        "function",
        "origin",
        "womens",
        "accessory",
        "lifestyle"
      ]
    },
    "public.core_program_status": {
      "name": "core_program_status",
      "schema": "public",
      "values": [
        "active",
        "paused",
        "retired"
      ]
    },
    "public.document_status": {
      "name": "document_status",
      "schema": "public",
      "values": [
        "draft",
        "published",
        "archived"
      ]
    },
    "public.execution_status": {
      "name": "execution_status",
      "schema": "public",
      "values": [
        "draft",
        "approved_sampling",
        "approved_bulk",
        "deprecated"
      ]
    },
    "public.factory_category": {
      "name": "factory_category",
      "schema": "public",
      "values": [
        "tees",
        "fleece",
        "swim",
        "woven",
        "towels",
        "headwear",
        "accessories"
      ]
    },
    "public.factory_status": {
      "name": "factory_status",
      "schema": "public",
      "values": [
        "prospect",
        "screening",
        "sampling",
        "approved",
        "active",
        "dormant",
        "rejected"
      ]
    },
    "public.factory_type": {
      "name": "factory_type",
      "schema": "public",
      "values": [
        "knit",
        "woven",
        "swim",
        "accessories",
        "multi"
      ]
    },
    "public.gender": {
      "name": "gender",
      "schema": "public",
      "values": [
        "mens",
        "womens",
        "unisex"
      ]
    },
    "public.invitation_status": {
      "name": "invitation_status",
      "schema": "public",
      "values": [
        "pending",
        "accepted",
        "expired",
        "revoked"
      ]
    },
    "public.negotiation_outcome": {
      "name": "negotiation_outcome",
      "schema": "public",
      "values": [
        "accepted",
        "counter_offered",
        "rejected",
        "tabled"
      ]
    },
    "public.org_role": {
      "name": "org_role",
      "schema": "public",
      "values": [
        "org_admin",
        "member"
      ]
    },
    "public.org_status": {
      "name": "org_status",
      "schema": "public",
      "values": [
        "active",
        "suspended",
        "archived"
      ]
    },
    "public.org_type": {
      "name": "org_type",
      "schema": "public",
      "values": [
        "vendor",
        "partner"
      ]
    },
    "public.pack_item_type": {
      "name": "pack_item_type",
      "schema": "public",
      "values": [
        "asset_version",
        "document",
        "test",
        "pack",
        "link"
      ]
    },
    "public.pack_kind": {
      "name": "pack_kind",
      "schema": "public",
      "values": [
        "tech_pack",
        "bundle",
        "vendor_pack",
        "partner_pack"
      ]
    },
    "public.portal_role": {
      "name": "portal_role",
      "schema": "public",
      "values": [
        "owner",
        "admin",
        "editor",
        "internal_viewer",
        "partner_viewer",
        "vendor_viewer"
      ]
    },
    "public.product_role": {
      "name": "product_role",
      "schema": "public",
      "values": [
        "studio_contributor",
        "product_lead",
        "founder",
        "external_designer",
        "factory_partner"
      ]
    },
    "public.production_run_status": {
      "name": "production_run_status",
      "schema": "public",
      "values": [
        "pre_production",
        "cutting",
        "sewing",
        "washing",
        "packing",
        "shipped",
        "delivered",
        "completed"
      ]
    },
    "public.publish_action": {
      "name": "publish_action",
      "schema": "public",
      "values": [
        "publish",
        "archive",
        "approve_sampling",
        "approve_bulk"
      ]
    },
    "public.relationship_stage": {
      "name": "relationship_stage",
      "schema": "public",
      "values": [
        "intro",
        "vetting",
        "strategic_partner"
      ]
    },
    "public.replacement_additive": {
      "name": "replacement_additive",
      "schema": "public",
      "values": [
        "replacement",
        "additive"
      ]
    },
    "public.sample_decision": {
      "name": "sample_decision",
      "schema": "public",
      "values": [
        "approved",
        "revise",
        "rejected"
      ]
    },
    "public.sample_type": {
      "name": "sample_type",
      "schema": "public",
      "values": [
        "proto",
        "fit",
        "sms",
        "top"
      ]
    },
    "public.season_color_status": {
      "name": "season_color_status",
      "schema": "public",
      "values": [
        "confirmed",
        "proposed"
      ]
    },
    "public.season_slot_status": {
      "name": "season_slot_status",
      "schema": "public",
      "values": [
        "open",
        "filled",
        "removed"
      ]
    },
    "public.season_status": {
      "name": "season_status",
      "schema": "public",
      "values": [
        "planning",
        "locked",
        "active",
        "closed"
      ]
    },
    "public.season_type": {
      "name": "season_type",
      "schema": "public",
      "values": [
        "major",
        "minor"
      ]
    },
    "public.sku_concept_status": {
      "name": "sku_concept_status",
      "schema": "public",
      "values": [
        "draft",
        "spec",
        "sampling",
        "costing",
        "approved",
        "production",
        "live",
        "retired"
      ]
    },
    "public.sku_factory_status": {
      "name": "sku_factory_status",
      "schema": "public",
      "values": [
        "proposed",
        "sampling",
        "approved",
        "production",
        "discontinued"
      ]
    },
    "public.studio_category": {
      "name": "studio_category",
      "schema": "public",
      "values": [
        "product",
        "materials",
        "color",
        "brand",
        "reference",
        "operational"
      ]
    },
    "public.studio_inspiration_source": {
      "name": "studio_inspiration_source",
      "schema": "public",
      "values": [
        "internal",
        "competitor",
        "archive",
        "vintage",
        "editorial",
        "trade_show",
        "mill_library",
        "street",
        "other"
      ]
    },
    "public.studio_link_type": {
      "name": "studio_link_type",
      "schema": "public",
      "values": [
        "sku_concept",
        "factory",
        "material",
        "sampling_request",
        "collection"
      ]
    },
    "public.studio_status": {
      "name": "studio_status",
      "schema": "public",
      "values": [
        "raw",
        "exploring",
        "prototyping",
        "ready_for_review",
        "revisions_requested",
        "promoted",
        "archived"
      ]
    },
    "public.test_result": {
      "name": "test_result",
      "schema": "public",
      "values": [
        "pass",
        "fail",
        "mixed"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}